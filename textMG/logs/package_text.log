2022-05-12 21:16:58: WARNING: From /home/projects/TFpackageText/textMG/models/bert_module.py:18: The name tf.AUTO_REUSE is deprecated. Please use tf.compat.v1.AUTO_REUSE instead.
 
2022-05-12 21:16:58: INFO: training is called 
2022-05-12 21:16:58: INFO: use CPU to train model 
2022-05-12 21:16:59: INFO: Physical CPU:1 ; Logical CPU:2 
2022-05-12 21:16:59: WARNING: From /home/projects/TFpackageText/textMG/models/tokenization.py:125: The name tf.gfile.GFile is deprecated. Please use tf.io.gfile.GFile instead.
 
2022-05-12 21:17:00: DEBUG: input_ids shape: [2, 30] 
2022-05-12 21:17:00: DEBUG: input_masks shape: [2, 30] 
2022-05-12 21:17:00: DEBUG: input_type_ids shape: [2, 30] 
2022-05-12 21:17:00: DEBUG: y_output shape: [2, 5] 
2022-05-12 21:17:00: INFO: load the data from tf builtin 'tf.data.Dataset.from_generator'  
2022-05-12 21:17:00: WARNING: From /home/projects/TFpackageText/textMG/configs/config_multiGPU.py:149: The name tf.data.Iterator is deprecated. Please use tf.compat.v1.data.Iterator instead.
 
2022-05-12 21:17:00: WARNING: From /home/projects/TFpackageText/textMG/configs/config_multiGPU.py:149: DatasetV1.output_types (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.compat.v1.data.get_output_types(dataset)`. 
2022-05-12 21:17:00: WARNING: From /home/projects/TFpackageText/textMG/configs/config_multiGPU.py:149: DatasetV1.output_shapes (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.compat.v1.data.get_output_shapes(dataset)`. 
2022-05-12 21:17:00: WARNING: From /opt/miniconda3/envs/tf1_15/lib/python3.7/site-packages/tensorflow_core/python/data/ops/iterator_ops.py:347: Iterator.output_types (from tensorflow.python.data.ops.iterator_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.compat.v1.data.get_output_types(iterator)`. 
2022-05-12 21:17:00: WARNING: From /opt/miniconda3/envs/tf1_15/lib/python3.7/site-packages/tensorflow_core/python/data/ops/iterator_ops.py:348: Iterator.output_shapes (from tensorflow.python.data.ops.iterator_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.compat.v1.data.get_output_shapes(iterator)`. 
2022-05-12 21:17:00: WARNING: From /opt/miniconda3/envs/tf1_15/lib/python3.7/site-packages/tensorflow_core/python/data/ops/iterator_ops.py:350: Iterator.output_classes (from tensorflow.python.data.ops.iterator_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.compat.v1.data.get_output_classes(iterator)`. 
2022-05-12 21:17:00: WARNING: From /home/projects/TFpackageText/textMG/configs/config_multiGPU.py:44: The name tf.train.AdamOptimizer is deprecated. Please use tf.compat.v1.train.AdamOptimizer instead.
 
2022-05-12 21:17:00: WARNING: From /home/projects/TFpackageText/textMG/configs/config_multiGPU.py:215: The name tf.NodeDef is deprecated. Please use tf.compat.v1.NodeDef instead.
 
2022-05-12 21:17:01: WARNING: From /home/projects/TFpackageText/textMG/models/bert_module.py:19: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.
 
2022-05-12 21:17:01: WARNING: From /home/projects/TFpackageText/textMG/models/bert_module.py:20: The name tf.get_variable is deprecated. Please use tf.compat.v1.get_variable instead.
 
2022-05-12 21:17:01: WARNING: From /home/projects/TFpackageText/textMG/models/bertBaseModule.py:490: The name tf.assert_less_equal is deprecated. Please use tf.compat.v1.assert_less_equal instead.
 
2022-05-12 21:17:01: WARNING: 
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.
 
2022-05-12 21:17:01: WARNING: From /home/projects/TFpackageText/textMG/models/bertBaseModule.py:358: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.
Instructions for updating:
Please use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`. 
2022-05-12 21:17:01: WARNING: From /home/projects/TFpackageText/textMG/models/bertBaseModule.py:671: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.Dense instead. 
2022-05-12 21:17:01: WARNING: From /opt/miniconda3/envs/tf1_15/lib/python3.7/site-packages/tensorflow_core/python/layers/core.py:187: Layer.apply (from tensorflow.python.keras.engine.base_layer) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `layer.__call__` method instead. 
2022-05-12 21:17:14: WARNING: From /home/projects/TFpackageText/textMG/models/bert_module.py:45: dropout (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dropout instead. 
2022-05-12 21:17:23: WARNING: From /home/projects/TFpackageText/textMG/utils/loss.py:31: softmax_cross_entropy_with_logits (from tensorflow.python.ops.nn_ops) is deprecated and will be removed in a future version.
Instructions for updating:

Future major versions of TensorFlow will allow gradients to flow
into the labels input on backprop by default.

See `tf.nn.softmax_cross_entropy_with_logits_v2`.
 
2022-05-12 21:17:25: WARNING: From /opt/miniconda3/envs/tf1_15/lib/python3.7/site-packages/tensorflow_core/python/ops/math_grad.py:1375: where (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where 
2022-05-12 21:18:58: WARNING: From /home/projects/TFpackageText/textMG/configs/config_multiGPU.py:225: The name tf.trainable_variables is deprecated. Please use tf.compat.v1.trainable_variables instead.
 
2022-05-12 21:18:58: WARNING: From /home/projects/TFpackageText/textMG/configs/config_multiGPU.py:228: The name tf.train.init_from_checkpoint is deprecated. Please use tf.compat.v1.train.init_from_checkpoint instead.
 
2022-05-12 21:18:58: WARNING: From /home/projects/TFpackageText/textMG/main_multiGPU.py:72: The name tf.global_variables_initializer is deprecated. Please use tf.compat.v1.global_variables_initializer instead.
 
2022-05-12 21:18:58: WARNING: From /home/projects/TFpackageText/textMG/main_multiGPU.py:76: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.
 
2022-05-12 21:18:58: WARNING: From /home/projects/TFpackageText/textMG/main_multiGPU.py:84: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.
 
2022-05-12 21:19:19: WARNING: From /home/projects/TFpackageText/textMG/main_multiGPU.py:88: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.
 
2022-05-12 21:19:24: INFO: x_ids_batchG.shape: (64, 30), x_masks_batchG.shape: (64, 30), x_type_ids_batchG.shape: (64, 30), x_batchG.shape: <unknown> 
2022-05-12 21:24:00: INFO: Epoch: 01/01, avg_train_cost: 1.68836, train_acc: 0.20000, test_acc: 0.37500, time_used: 235.37s 
2022-05-12 21:24:00: INFO: f1_score: train_macro:0.0833, test_macro:0.1364 
2022-05-12 21:24:37: INFO: saved model to: /home/projects/tensorflow_practice/save_model/multi_bert_category_tf1/ 
2022-05-12 21:24:39: INFO: Elapsed time is 460.32 seconds. 
2022-05-12 21:24:39: INFO: Finished! 
2022-05-12 21:24:39: DEBUG: {'epoches': '1', 'avg_train_cost': '1.6883604526519775', 'train_acc': '0.2', 'test_acc': '0.375', 'train_macro': '0.08333333333333334', 'test_macro': '0.13636363636363635', 'saved model to path': '/home/projects/tensorflow_practice/save_model/multi_bert_category_tf1/', 'time_used': '460.31524205207825'} 
rt_category_tf1/', 'time_used': '460.31524205207825'} 
